
functionality:
  namespace: "control_methods"
  info:
    type: control_method
    type_info:
      label: Control Method
      summary: A control method.
      description: |
        A control method to serve as a quality control for the GRN inference benchmark.
  arguments:
    - name: --perturbation_data
      __merge__: file_perturbation_h5ad.yaml
      required: false
      direction: input
      default: resources/grn-benchmark/perturbation_data.h5ad
    - name: --multiomics_rna
      __merge__: file_multiomics_rna_h5ad.yaml
      required: false
      direction: input
      example: resources_test/grn-benchmark/multiomics_rna.h5ad
    - name: --layer
      type: string
      direction: input
      default: scgen_pearson
      description: Which layer of pertubation data to use to find tf-gene relationships.
      required: false
    - name: --prediction
      __merge__: file_prediction.yaml
      required: false
      direction: output
    - name: --tf_all
      type: file
      required: false
      direction: input
      example: resources_test/prior/tf_all.csv
      default: resources/prior/tf_all.csv

      
  test_resources:
    - type: python_script
      path: /src/common/component_tests/run_and_check_output.py
    - path: /resources_test/grn-benchmark
      dest: resources_test/grn-benchmark
    - path: /resources_test/prior
      dest: resources_test/prior